import{m as f,c as S,b as k}from"./vuex.esm-bundler.55d3d5b3.js";import{C as R}from"./Card.0a3b54f8.js";import{C as L}from"./Tabs.5bdc95fd.js";import{C as E}from"./SeoSiteAnalysisResults.2180eb60.js";import{p as I}from"./popup.b60b699f.js";import"./default-i18n.0e8bc810.js";import{u as B,S as M}from"./SeoSiteScore.85505ada.js";import"./WpTable.3e09f0c1.js";import"./constants.e56e1512.js";import{_ as $,r as t,o as i,c,d as n,f as u,a as s,t as a,b as y,w as r,D as w,y as b,B as D}from"./_plugin-vue_export-helper.a81c6319.js";import"./index.4dbecc01.js";import"./SaveChanges.c85e9ba4.js";import{C as G}from"./Blur.17ef7d02.js";import{C as H}from"./Index.a9a2f84a.js";import{S as N}from"./Book.4fda1364.js";import{C as P}from"./Tooltip.c4cc47a2.js";import{S as U}from"./Refresh.3396c34d.js";import{S as W}from"./index.fae5bbc8.js";import"./helpers.51e5fd9c.js";import"./Caret.19bf2275.js";import"./Slide.4392623f.js";import"./TruSeoScore.1eab6bb1.js";import"./Information.050096cc.js";import"./GoogleSearchPreview.170d666f.js";import"./html.a669733f.js";import"./index.251e7289.js";import"./client.e7a26247.js";import"./_commonjsHelpers.f84db168.js";import"./Gear.7e79093b.js";import"./params.597cd0f5.js";import"./Index.3662e61b.js";import"./Row.d42459be.js";import"./RequiresUpdate.52f5acf2.js";import"./postContent.f08c6962.js";import"./cleanForSlug.d16f1e3a.js";import"./Index.048705a6.js";const V={components:{CoreSiteScore:H,SvgBook:N},props:{score:Number,loading:Boolean,description:String,summary:{type:Object,default(){return{}}}},data(){return{strings:{yourOverallSiteScore:this.$t.__("Your Overall Site Score",this.$td),goodResult:this.$t.sprintf(this.$t.__("A very good score is between %1$s%3$d and %4$d%2$s.",this.$td),"<strong>","</strong>",50,75),forBestResults:this.$t.sprintf(this.$t.__("For best results, you should strive for %1$s%3$d and above%2$s.",this.$td),"<strong>","</strong>",70),anErrorOccurred:this.$t.__("An error occurred while analyzing your site.",this.$td),criticalIssues:this.$t.__("Important Issues",this.$td),warnings:this.$t.__("Warnings",this.$td),recommendedImprovements:this.$t.__("Recommended Improvements",this.$td),goodResults:this.$t.__("Good Results",this.$td),completeSiteAuditChecklist:this.$t.__("Complete Site Audit Checklist",this.$td),readUltimateSeoGuide:this.$t.__("Read the Ultimate WordPress SEO Guide",this.$td)}}},computed:{...f(["analyzeError"]),getError(){switch(this.analyzeError){case"invalid-url":return this.$t.__("The URL provided is invalid.",this.$td);case"missing-content":return this.$t.sprintf("%1$s %2$s",this.$t.__("We were unable to parse the content for this site.",this.$td),this.$links.getDocLink(this.$constants.GLOBAL_STRINGS.learnMore,"seoAnalyzerIssues",!0));case"invalid-token":return this.$t.sprintf(this.$t.__("Your site is not connected. Please connect to %1$s, then try again.",this.$td),"AIOSEO")}return this.analyzeError}}},Y={class:"aioseo-site-score-analyze"},q={key:0,class:"aioseo-seo-site-score-score"},K={key:1,class:"aioseo-seo-site-score-description"},j=["innerHTML"],F=["innerHTML"],Q={class:"d-flex"},J=["href"],X={key:2,class:"analyze-errors"},Z=["innerHTML"];function x(e,h,_,p,o,l){const d=t("core-site-score"),m=t("svg-book");return i(),c("div",Y,[e.analyzeError?u("",!0):(i(),c("div",q,[n(d,{loading:_.loading,score:_.score,description:_.description,strokeWidth:1.75},null,8,["loading","score","description"])])),e.analyzeError?u("",!0):(i(),c("div",K,[s("h2",null,a(o.strings.yourOverallSiteScore),1),s("div",{innerHTML:o.strings.goodResult},null,8,j),s("div",{innerHTML:o.strings.forBestResults},null,8,F),s("div",Q,[n(m),s("a",{href:e.$links.getDocUrl("ultimateGuide"),target:"_blank"},a(o.strings.readUltimateSeoGuide),9,J)])])),e.analyzeError?(i(),c("div",X,[s("h3",null,a(o.strings.anErrorOccurred),1),s("span",{innerHTML:l.getError},null,8,Z)])):u("",!0)])}const ee=$(V,[["render",x]]);const te={setup(){const{strings:e}=B();return{strings:e}},components:{CoreBlur:G,CoreSiteScoreAnalyze:ee},mixins:[M],data(){return{score:0}},watch:{"internalOptions.internal.siteAnalysis.score"(e){this.score=e}},computed:{...f(["internalOptions","analyzing"]),...S(["goodCount","recommendedCount","criticalCount"]),getSummary(){return{recommended:this.recommendedCount(),critical:this.criticalCount(),good:this.goodCount()}}},methods:{...k(["saveConnectToken","runSiteAnalyzer"]),openPopup(e){I(e,this.connectWithAioseo,600,630,!0,["token"],this.completedCallback,this.closedCallback)},completedCallback(e){return this.saveConnectToken(e.token)},closedCallback(e){e&&this.runSiteAnalyzer(),this.$store.commit("analyzing",!0)}},mounted(){!this.internalOptions.internal.siteAnalysis.score&&this.internalOptions.internal.siteAnalysis.connectToken&&(this.$store.commit("analyzing",!0),this.runSiteAnalyzer()),this.score=this.internalOptions.internal.siteAnalysis.score}},se={class:"aioseo-seo-site-score"},oe={key:1,class:"aioseo-seo-site-score-cta"};function ne(e,h,_,p,o,l){const d=t("core-site-score-analyze"),m=t("core-blur");return i(),c("div",se,[e.internalOptions.internal.siteAnalysis.connectToken?u("",!0):(i(),y(m,{key:0},{default:r(()=>[n(d,{score:85,description:e.description},null,8,["description"])]),_:1})),e.internalOptions.internal.siteAnalysis.connectToken?u("",!0):(i(),c("div",oe,[s("a",{href:"#",onClick:h[0]||(h[0]=w(C=>l.openPopup(e.$aioseo.urls.connect),["prevent"]))},a(e.connectWithAioseo),1),b(" "+a(p.strings.toSeeYourSiteScore),1)])),e.internalOptions.internal.siteAnalysis.connectToken?(i(),y(d,{key:2,score:o.score,description:e.description,loading:e.analyzing,summary:l.getSummary},null,8,["score","description","loading","summary"])):u("",!0)])}const re=$(te,[["render",ne]]);const ie={components:{CoreCard:R,CoreMainTabs:L,CoreSeoSiteAnalysisResults:E,CoreSeoSiteScoreAnalyze:re,CoreTooltip:P,SvgRefresh:U,SvgCircleQuestionMark:W},data(){return{internalDebounce:!1,strings:{completeSeoChecklist:this.$t.__("Complete SEO Checklist",this.$td),refreshResults:this.$t.__("Refresh Results",this.$td),cardDescription:this.$t.__("These are the results our SEO Analzyer has generated after analyzing the homepage of your website.",this.$td)+" "+this.$links.getDocLink(this.$constants.GLOBAL_STRINGS.learnMore,"seoAnalyzer",!0)}}},computed:{...f(["internalOptions","options","settings","analyzing"]),...S(["getSiteAnalysisResults","allItemsCount","criticalCount","recommendedCount","goodCount","licenseKey"]),tabs(){const e=this.internalOptions.internal.siteAnalysis;return[{slug:"all-items",label:this.$t.__("All Items",this.$td),analyze:{classColor:"black",count:e.score?this.allItemsCount():0}},{slug:"critical",label:this.$t.__("Important Issues",this.$td),analyze:{classColor:"red",count:e.score?this.criticalCount():0}},{slug:"recommended-improvements",label:this.$t.__("Recommended Improvements",this.$td),analyze:{classColor:"blue",count:e.score?this.recommendedCount():0}},{slug:"good-results",label:this.$t.__("Good Results",this.$td),analyze:{classColor:"green",count:e.score?this.goodCount():0}}]}},methods:{...k(["changeTab","runSiteAnalyzer"]),processChangeTab(e){this.internalDebounce||(this.internalDebounce=!0,this.changeTab({slug:"seoAuditChecklist",value:e}),setTimeout(()=>{this.internalDebounce=!1},50))},refresh(){this.$store.commit("analyzing",!0),this.runSiteAnalyzer({refresh:!0})}}},ae={class:"aioseo-seo-audit-checklist"},le=["innerHTML"],ce={class:"label"};function ue(e,h,_,p,o,l){const d=t("core-seo-site-score-analyze"),m=t("core-card"),C=t("svg-circle-question-mark"),v=t("core-tooltip"),A=t("svg-refresh"),z=t("base-button"),T=t("core-main-tabs"),O=t("core-seo-site-analysis-results");return i(),c("div",ae,[n(m,{slug:"connectOrScore","hide-header":"","no-slide":"",toggles:!1},{default:r(()=>[n(d)]),_:1}),(e.$isPro&&e.licenseKey||e.internalOptions.internal.siteAnalysis.connectToken)&&e.internalOptions.internal.siteAnalysis.score?(i(),y(m,{key:0,slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:r(()=>[s("span",null,a(o.strings.completeSeoChecklist),1),n(v,null,{tooltip:r(()=>[s("span",{innerHTML:o.strings.cardDescription},null,8,le)]),default:r(()=>[n(C)]),_:1})]),"header-extra":r(()=>[n(z,{class:"refresh-results",type:"gray",size:"small",onClick:l.refresh,loading:e.analyzing},{default:r(()=>[n(A),b(" "+a(o.strings.refreshResults),1)]),_:1},8,["onClick","loading"])]),tabs:r(()=>[n(T,{tabs:l.tabs,showSaveButton:!1,active:e.settings.internalTabs.seoAuditChecklist,internal:"",onChanged:l.processChangeTab,"skinny-tabs":""},{"var-tab":r(({tab:g})=>[s("span",{class:D(["round",g.analyze.classColor])},a(g.analyze.count||0),3),s("span",ce,a(g.label),1)]),_:1},8,["tabs","active","onChanged"])]),default:r(()=>[n(O,{section:e.settings.internalTabs.seoAuditChecklist,"all-results":e.getSiteAnalysisResults,"show-instructions":""},null,8,["section","all-results"])]),_:1})):u("",!0)])}const je=$(ie,[["render",ue]]);export{je as default};
